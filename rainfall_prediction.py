# -*- coding: utf-8 -*-
"""rainfall_prediction.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/19q6adb4p0N3PQCRlgUCNshCPmU1UHRlh
"""

#libraries
import numpy as np
import pandas as pd

data=pd.read_csv('/content/austin_weather.csv')

data.head()

"""**drop unnecessary columns**"""

data.drop(["Events","Date","SeaLevelPressureLowInches"],axis=1,inplace=True)

data

"""**replace null or unavailable data**"""

data=data.replace("T",0.0)

data=data.replace('-',0.0)

data

"""**export it to new csv**"""

data.to_csv('austin_weather_final.csv')

"""**analyse and process the data**"""

import sklearn as sk
from sklearn.linear_model import LinearRegression
import matplotlib.pyplot as plt

data=pd.read_csv('/content/austin_weather_final.csv')
data.head()

x=data.drop(['PrecipitationSumInches'],axis=1)

y=data['PrecipitationSumInches']

"""**reshape data**"""

y=y.values.reshape(-1,1)
print(y)

day_index=798
days=[i for i in range(y.size)]

"""**initialize a linear regression classifier**"""

clf=LinearRegression()
#train classifier
clf.fit(x,y)

#plot graph
print("The precipitation trend graph")
plt.scatter(days,y,color='g')
plt.scatter(days[day_index],y[day_index],color='r')
plt.title("Precipitaion level")
plt.xlabel("days")
plt.ylabel("precipitation in inches")
plt.show()
x_vis=x.filter(['TempAvgF','DewPointAvgF','HumidityAvgPercent','SeaLevelPressureAvgInches','VisibilityAvgMiles','WindAvgMPH'])

print("The precipitation vs attributes trend graph")
for i in range(x_vis.columns.size):
  plt.subplot(3,2,i+1)
  plt.scatter(days,x_vis[x_vis.columns.values[i][:100]],color='g')
  plt.scatter(days[day_index],x_vis[x_vis.columns.values[i]][day_index],color='r')
  plt.title(x_vis.columns.values[i])
plt.show()